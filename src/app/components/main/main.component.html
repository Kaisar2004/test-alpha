<header>
  <div class="container">
    <nav class="navigation">
      <a href="#" id="message" (click)="showMessageWindow($event, 'message')">
        <svg [ngClass]="{'active-message': isMessageActive}" width="32" height="32" viewBox="0 0 32 32" fill="none"
             xmlns="http://www.w3.org/2000/svg">
          <circle cx="16" cy="16" r="16" fill="#0094FF"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M21.8334 21H10.1668C9.70759 21 9.33342 20.6266 9.33342 20.1666V12.0416L15.5001 16.6666C15.6484 16.7783 15.8243 16.8333 16.0001 16.8333C16.1759 16.8333 16.3518 16.7783 16.5001 16.6666L22.6668 12.0416V20.1666C22.6668 20.6266 22.2926 21 21.8334 21ZM21.2776 11L16.0001 14.9583L10.7226 11H21.2776ZM21.8334 9.33331H10.1667C8.78838 9.33331 7.66671 10.455 7.66671 11.8333V20.1666C7.66671 21.545 8.78838 22.6666 10.1667 22.6666H21.8334C23.2117 22.6666 24.3334 21.545 24.3334 20.1666V11.8333C24.3334 10.455 23.2117 9.33331 21.8334 9.33331Z"
                fill="white"/>
          <circle cx="28" cy="4" r="3.5" fill="#FC6C6C" stroke="white"/>
        </svg>
      </a>
      <a href="#" id="devices" (click)="showDeviceWindow($event, 'devices')">
        <svg [ngClass]="{'active-devices': isDeviceActive}" width="32" height="32" viewBox="0 0 32 32" fill="none"
             xmlns="http://www.w3.org/2000/svg">
          <circle cx="16" cy="16" r="16" fill="#0094FF"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M15.9996 9.3335C19.0396 9.3335 21.9171 10.496 24.1038 12.6077C24.4346 12.9268 24.4438 13.4552 24.1246 13.786C23.9613 13.9552 23.743 14.0402 23.5255 14.0402C23.3171 14.0402 23.108 13.9627 22.9463 13.806C21.0713 11.9968 18.6046 11.0002 15.9996 11.0002C13.3946 11.0002 10.928 11.9968 9.05296 13.806C8.7238 14.1268 8.19546 14.1177 7.87463 13.786C7.5563 13.4552 7.56463 12.9268 7.8963 12.6077C10.083 10.496 12.9605 9.3335 15.9996 9.3335ZM15.9999 13.5C13.9766 13.5 12.0099 14.3342 10.6041 15.79C10.2858 16.1217 10.2941 16.6492 10.6258 16.9683C10.9558 17.2883 11.4849 17.2792 11.8041 16.9483C12.8966 15.8158 14.4258 15.1667 15.9999 15.1667C17.5741 15.1667 19.1033 15.8158 20.1958 16.9483C20.3591 17.1175 20.5774 17.2025 20.7958 17.2025C21.0041 17.2025 21.2133 17.125 21.3741 16.9683C21.7058 16.6492 21.7141 16.1217 21.3958 15.79C19.9899 14.3342 18.0233 13.5 15.9999 13.5ZM13.1058 18.8358C13.8866 18.0825 14.9141 17.6667 16 17.6667C17.0858 17.6667 18.1133 18.0825 18.8941 18.8358C19.225 19.1558 19.2341 19.6833 18.915 20.0142C18.7516 20.1842 18.5333 20.2692 18.315 20.2692C18.1066 20.2692 17.8975 20.1908 17.7366 20.035C16.7991 19.13 15.2008 19.13 14.2633 20.035C13.9341 20.355 13.4058 20.3458 13.085 20.0142C12.7658 19.6833 12.775 19.1558 13.1058 18.8358ZM15.1666 21.8333C15.1666 21.3733 15.5391 21 16 21C16.4608 21 16.8333 21.3733 16.8333 21.8333C16.8333 22.2933 16.4608 22.6667 16 22.6667C15.5391 22.6667 15.1666 22.2933 15.1666 21.8333Z"
                fill="white"/>
          <circle cx="28" cy="4" r="3.5" fill="#FC6C6C" stroke="white"/>
        </svg>
      </a>
      <a href="#" id="notification">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="16" cy="16" r="16" fill="#0094FF"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M10.5955 19.3333L11.5789 18.3483C11.8939 18.0333 12.0672 17.615 12.0672 17.17V13.2725C12.0672 12.1417 12.5589 11.0608 13.4172 10.3092C14.2822 9.55083 15.3839 9.2175 16.5314 9.36833C18.4705 9.62583 19.933 11.3792 19.933 13.4475V17.17C19.933 17.615 20.1064 18.0333 20.4205 18.3475L21.4047 19.3333H10.5955ZM17.6663 21.2842C17.6663 22.0333 16.903 22.6667 15.9996 22.6667C15.0963 22.6667 14.333 22.0333 14.333 21.2842V21H17.6663V21.2842ZM23.1005 18.6733L21.5997 17.17V13.4475C21.5997 10.5467 19.5147 8.0825 16.7497 7.71667C15.148 7.50333 13.5313 7.9925 12.3188 9.05583C11.0988 10.1242 10.4005 11.6608 10.4005 13.2725L10.3997 17.17L8.89884 18.6733C8.508 19.065 8.39217 19.6475 8.60384 20.1583C8.81634 20.67 9.3105 21 9.86384 21H12.6663V21.2842C12.6663 22.9658 14.1613 24.3333 15.9997 24.3333C17.838 24.3333 19.333 22.9658 19.333 21.2842V21H22.1355C22.6888 21 23.1822 20.67 23.3938 20.1592C23.6063 19.6475 23.4913 19.0642 23.1005 18.6733Z"
                fill="white"/>
          <circle cx="28" cy="4" r="3.5" fill="#FC6C6C" stroke="white"/>
        </svg>
      </a>
    </nav>
  </div>
</header>

<main>
  <div #mapContainer class="map-container"></div>
  <div class="stuff-marker">
    <svg width="44" height="48" viewBox="0 0 44 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g filter="url(#filter0_dd_853_1100)">
        <path d="M22 46C22.5472 42.1621 24.9357 41.3707 28 40C35.9891 37.3683 42 30.0036 42 21.0667C42 9.99165 33.026 1 21.9726 1C10.9193 1 2 10.0465 2 21.1216C2 30.0036 8.01094 37.3683 16 40C19.119 41.3159 21.3981 42.1621 22 46Z" fill="#40BF6A"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M27.2769 38.1325L27.3743 38.1004C34.62 35.7136 40 29.0619 40 21.0667C40 11.0925 31.9177 3 21.9726 3C12.0418 3 4 11.1331 4 21.1216C4 29.0587 9.37674 35.7125 16.6258 38.1004L16.7027 38.1258L16.7774 38.1573C16.8912 38.2053 17.0065 38.2536 17.1228 38.3024C18.4885 38.8749 20.0076 39.5117 21.2185 40.513C21.4996 40.7455 21.7614 40.994 22.0034 41.2606C22.2488 40.9961 22.5138 40.7501 22.7976 40.5204C23.93 39.6036 25.3519 38.9796 26.6103 38.4274C26.8058 38.3416 26.9974 38.2575 27.1834 38.1743L27.2769 38.1325ZM23.1633 42.9831C22.5908 43.7285 22.1874 44.6856 22 46C21.7942 44.688 21.3925 43.7256 20.8281 42.9745C19.792 41.5956 18.2078 40.9291 16.2828 40.1191C16.1893 40.0798 16.095 40.0401 16 40C8.01094 37.3683 2 30.0036 2 21.1216C2 10.0465 10.9193 1 21.9726 1C33.026 1 42 9.99165 42 21.0667C42 30.0036 35.9891 37.3683 28 40C27.7919 40.0931 27.5869 40.1835 27.3853 40.2724C25.6359 41.044 24.149 41.6999 23.1633 42.9831Z" fill="white"/>
      </g>
      <path d="M22 33C28.6274 33 34 27.6274 34 21C34 14.3726 28.6274 9 22 9C15.3726 9 10 14.3726 10 21C10 27.6274 15.3726 33 22 33Z" fill="white"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M16.4655 14.9447C16.348 15.3885 16.2855 15.8537 16.2855 16.3332C16.2855 19.4014 18.8439 21.8888 21.9998 21.8888C25.1558 21.8888 27.7142 19.4014 27.7142 16.3332C27.7142 15.8537 27.6517 15.3885 27.5342 14.9447H16.4655Z" fill="#52597A"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M16.6548 12.8611H15.5516C15.1681 12.8611 14.8572 13.1721 14.8572 13.5556C14.8572 13.9391 15.1681 14.25 15.5516 14.25H28.4485C28.8321 14.25 29.143 13.9391 29.143 13.5556C29.143 13.1721 28.8321 12.8611 28.4485 12.8611H27.3457C27.1619 10.1465 24.8389 8 22.0002 8C19.1616 8 16.8385 10.1465 16.6548 12.8611ZM23.0721 12.8611H23.0718C22.8497 13.0234 22.5874 13.1364 22.3021 13.1837C22.204 13.1999 22.1033 13.2084 22.0004 13.2084C21.0142 13.2084 20.2147 12.4311 20.2147 11.4723C20.2147 10.5134 21.0142 9.73615 22.0004 9.73615C22.9867 9.73615 23.7862 10.5134 23.7862 11.4723C23.7862 12.0402 23.5057 12.5444 23.0721 12.8611Z" fill="#FB6815"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M19.1275 22.2037C15.8488 22.9396 13.2035 24.9041 12.0002 27.4444C13.539 30.693 17.436 33 22.0002 33C26.5645 33 30.4615 30.693 32.0003 27.4444C30.7969 24.9039 28.1514 22.9393 24.8724 22.2036C24.1123 22.8713 23.1049 23.278 21.9998 23.278C20.8948 23.278 19.8875 22.8714 19.1275 22.2037Z" fill="#52597A"/>
      <defs>
        <filter id="filter0_dd_853_1100" x="0" y="0" width="44" height="50" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
          <feFlood flood-opacity="0" result="BackgroundImageFix"/>
          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
          <feOffset/>
          <feGaussianBlur stdDeviation="0.5"/>
          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_853_1100"/>
          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
          <feOffset dy="2"/>
          <feGaussianBlur stdDeviation="1"/>
          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
          <feBlend mode="normal" in2="effect1_dropShadow_853_1100" result="effect2_dropShadow_853_1100"/>
          <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_853_1100" result="shape"/>
        </filter>
      </defs>
    </svg>
  </div>
</main>

<div class="message-popup" *ngIf="isMessageVisible">
  <div class="message-header">
    <div class="message-title">Сообщение <span class="message-count">{{ messages.length }}</span></div>
    <div class="message-exit" style="cursor: pointer" (click)="hideMessage()">
      <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd"
              d="M7.80048 6.28572L12.0935 1.99272C12.4845 1.60172 12.4845 0.969715 12.0935 0.578715C11.7025 0.187715 11.0705 0.187715 10.6795 0.578715L6.38648 4.87172L2.09348 0.578715C1.70248 0.187715 1.07048 0.187715 0.67948 0.578715C0.28848 0.969715 0.28848 1.60172 0.67948 1.99272L4.97248 6.28572L0.67948 10.5787C0.28848 10.9697 0.28848 11.6017 0.67948 11.9927C0.874481 12.1877 1.13048 12.2857 1.38648 12.2857C1.64248 12.2857 1.89848 12.1877 2.09348 11.9927L6.38648 7.69972L10.6795 11.9927C10.8745 12.1877 11.1305 12.2857 11.3865 12.2857C11.6425 12.2857 11.8985 12.1877 12.0935 11.9927C12.4845 11.6017 12.4845 10.9697 12.0935 10.5787L7.80048 6.28572Z"
              fill="#A3A8C2"/>
      </svg>
    </div>
  </div>

  <div class="message-info" *ngFor="let item of messages">

    <div class="message-image-tab">
      <div class="message-image">
        <img src="{{item.image}}" alt="avatar" width="40px" height="40px">
      </div>
      <div class="message-tab">{{ item.tab }}</div>
    </div>

    <div class="message-name-chat">
      <div class="message-name">{{ item.name }}</div>
      <div class="message-chat">{{ item.message }}</div>
    </div>

    <div class="message-date">{{ item.date }}</div>
  </div>
</div>

<div class="devices-popup" *ngIf="isDeviceVisible">
  <div class="devices-header">
    <div class="devices-title">Неразмещенные устройства <span class="devices-count">{{ devices.length }}</span></div>
    <div class="devices-exit" style="cursor: pointer" (click)="hideDevice()">
      <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd"
              d="M7.80048 6.28572L12.0935 1.99272C12.4845 1.60172 12.4845 0.969715 12.0935 0.578715C11.7025 0.187715 11.0705 0.187715 10.6795 0.578715L6.38648 4.87172L2.09348 0.578715C1.70248 0.187715 1.07048 0.187715 0.67948 0.578715C0.28848 0.969715 0.28848 1.60172 0.67948 1.99272L4.97248 6.28572L0.67948 10.5787C0.28848 10.9697 0.28848 11.6017 0.67948 11.9927C0.874481 12.1877 1.13048 12.2857 1.38648 12.2857C1.64248 12.2857 1.89848 12.1877 2.09348 11.9927L6.38648 7.69972L10.6795 11.9927C10.8745 12.1877 11.1305 12.2857 11.3865 12.2857C11.6425 12.2857 11.8985 12.1877 12.0935 11.9927C12.4845 11.6017 12.4845 10.9697 12.0935 10.5787L7.80048 6.28572Z"
              fill="#A3A8C2"/>
      </svg>
    </div>
  </div>

  <div class="container" style="padding: 15px">
    <div class="devices-info" *ngFor="let dev of devices">
      <div class="devices-image-name">
        <div class="devices-image">
          <img src="{{dev.image}}" alt="device image" width="24px" height="24px">
        </div>
        <div class="devices-name">{{ dev.name }}</div>
      </div>
      <div class="devices-plus" style="cursor: pointer">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="24" height="24" rx="4" fill="#0094FF"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M17.8335 11.1667H12.8335V6.16666C12.8335 5.70583 12.4602 5.33333 12.0002 5.33333C11.5402 5.33333 11.1668 5.70583 11.1668 6.16666V11.1667H6.16683C5.70683 11.1667 5.3335 11.5392 5.3335 12C5.3335 12.4608 5.70683 12.8333 6.16683 12.8333H11.1668V17.8333C11.1668 18.2942 11.5402 18.6667 12.0002 18.6667C12.4602 18.6667 12.8335 18.2942 12.8335 17.8333V12.8333H17.8335C18.2935 12.8333 18.6668 12.4608 18.6668 12C18.6668 11.5392 18.2935 11.1667 17.8335 11.1667Z"
                fill="white"/>
        </svg>
      </div>
    </div>
  </div>
</div>
